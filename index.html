<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pomum</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="./images/pomumicon.ico">
  <script type="module" defer src="main.js"></script>
  <script type="module" defer src="loadshaders.js"></script>
</head>
<body>
    <div id="menu">
    <img src="./images/pomumlogo.png" alt="Pomum" srcset="">
    <button id="startBtn" onclick="startGame()">Rozpocznij</button>

    <div id="settingsPanel" class="hidden">
      <h2>Settings</h2>
      <label>
        <input type="checkbox" id="soundToggle" checked>
        Enable Sound
      </label>
    </div>
  </div>
  <div class="game" style="display: none;">
    <!-- Left panel: stats -->
    <div class="left-panel">
      <h2>Runda: <b id="round"></b></h2>
      <h2>Pieniądze: <b id="money"></b></h2>
      <h2>Ruchy: <b id="moves"></b></h2>
      <h2>Zdobądź: <b id="roundscore">0</b></h2>
      <h2>Twój wynik: <b id="score">0</b></h2>
      <h1>Wynik:</h1>
      <div class="calcscore">
        <div id="tempscore">0</div> x <div id="mult">1</div>
      </div>
    </div>

    <!-- Right panel: upgrades, game, shop -->
    <div class="right-panel">
      
      <!-- Player upgrades -->
      <div id="player-upgrades">
        <div class="upgrade-group upgrades">
          <div id="player-upgrades-container"></div>
          <label><b id="upgrades-counter">(0/4)</b></label>
        </div>
        <div class="upgrade-group consumables">
          <div id="player-consumables-container"></div>
          <label><b id="consumables-counter">(0/2)</b></label>
        </div>
      </div>

      <!-- Game grid -->
      <div id="body"></div>

      <!-- Shop -->
      <div id="shop">
        <button class="shopbutton" onclick="reroll()">Reroll Shop ($4)</button>
        <div id="upgrades-container"></div>
        <div id="boosterpack-container"></div>
        <div id="voucher-container"></div>
        <button class="shopbutton" onclick="startRound()">Continue</button>
      </div>
      <div id="upgrade-tiles">
        <div class="container">
                <div id="tiles"></div>
                <div id="consumables-container"></div>
                <button class="upgradetiles" onclick="skip()">Kontynuuj</button>
            </div>
      </div>
    </div>
  </div>
  <div id="game-over">
    <div class="game-over-content">
      <h1>Game Over</h1>
      <p>Your score: <span id="final-score">0</span></p>
      <button onclick="restartGame()">Restart</button>
      <button onclick="showMenu()">Menu</button>
    </div>
  </div>
  <canvas id="glcanvas"></canvas>
</body>
</html>
